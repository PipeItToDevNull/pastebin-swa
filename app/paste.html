<!DOCTYPE html>
<html>
<head>
    <title>PasteBin Clone</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>PasteBin Clone</h1>
    <pre id="pasteContent"></pre>

    <script>
        window.onload = async function() {
            //console.log("Pathname: ", window.location.pathname); // log the pathname to the console for debug
            const uuid = window.location.pathname.split('/')[1];
            console.log("UUID: ", uuid);
            const response = await fetch(`/api/get/?uuid=${uuid}`);
            console.log(response);
            if (response.ok) {
                const text = await response.text();
                document.getElementById('pasteContent').textContent = text;
            } else {
                const errorMessage = await response.text();
                document.getElementById('pasteContent').textContent = `API Error ${response.status}: ${errorMessage}`;
            }
        };
    </script>
</body>
</html>
